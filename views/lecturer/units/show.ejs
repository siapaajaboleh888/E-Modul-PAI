<!-- Header dengan Gradient -->
<div class="mb-4">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2 class="fw-bold mb-0"
            style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent;">
            üìñ <%= unit.title %>
        </h2>
        <div>
            <a href="/lecturer/modules/<%= unit.module_id %>" class="btn btn-outline-secondary me-2">
                <i class="bi bi-arrow-left"></i> Kembali ke Modul
            </a>
            <a href="/lecturer/dashboard" class="btn btn-outline-secondary">
                <i class="bi bi-house"></i> Dashboard
            </a>
        </div>
    </div>
    <p class="text-muted mb-0">
        <strong>Modul:</strong>
        <%= unit.module_title %> | <%= unit.description || 'Unit pembelajaran' %>
    </p>
</div>

<!-- Materi Pembelajaran -->
<div class="card border-0 shadow-sm mb-4">
    <div class="card-header bg-white">
        <h5 class="mb-0 fw-bold">üìö Materi Pembelajaran</h5>
    </div>
    <div class="card-body">
        <% if (materials && materials.length) { %>
            <div class="list-group list-group-flush">
                <% materials.forEach(function(m) { %>
                    <div class="list-group-item">
                        <div class="d-flex justify-content-between align-items-start">
                            <div class="flex-grow-1">
                                <h6 class="mb-1 fw-bold">
                                    <%= m.title %>
                                </h6>
                                <% if (m.content) { %>
                                    <p class="mb-2 text-muted small">
                                        <%= m.content.substring(0, 150) %>...
                                    </p>
                                    <% } %>
                                        <% if (m.media_url) { %>
                                            <a href="<%= m.media_url %>" target="_blank"
                                                class="btn btn-sm btn-outline-primary">
                                                <i class="bi bi-play-circle"></i> Lihat Media
                                            </a>
                                            <% } %>
                            </div>
                            <% if (m.media_type) { %>
                                <span class="badge bg-info">
                                    <%= m.media_type %>
                                </span>
                                <% } %>
                        </div>
                    </div>
                    <% }) %>
            </div>
            <% } else { %>
                <div class="alert alert-info mb-0">
                    <i class="bi bi-info-circle"></i> Belum ada materi untuk unit ini.
                </div>
                <% } %>
    </div>
</div>

<!-- Aktivitas (Kuis & Tugas) -->
<div class="card border-0 shadow-sm">
    <div class="card-header bg-white">
        <h5 class="mb-0 fw-bold">‚úèÔ∏è Aktivitas & Penilaian</h5>
    </div>
    <div class="card-body">
        <% if (activities && activities.length) { %>
            <div class="list-group list-group-flush">
                <% activities.forEach(function(a) { %>
                    <div class="list-group-item">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <h6 class="mb-1 fw-bold">
                                    <% if (a.type==='QUIZ' ) { %>
                                        <i class="bi bi-question-circle text-primary"></i>
                                        <% } else if (a.type==='TASK' ) { %>
                                            <i class="bi bi-file-earmark-text text-success"></i>
                                            <% } %>
                                                <%= a.title %>
                                </h6>
                                <p class="mb-1 text-muted small">
                                    <%= a.description || '-' %>
                                </p>
                                <small class="text-muted">
                                    <% if (a.due_date) { %>
                                        Deadline: <%= new Date(a.due_date).toLocaleDateString('id-ID') %>
                                            <% } %>
                                                | Nilai Maksimal: <%= a.max_score || 100 %>
                                </small>
                            </div>
                            <div>
                                <span class="badge <%= a.type==='QUIZ' ? 'bg-primary' : 'bg-success' %>">
                                    <%= a.type %>
                                </span>
                            </div>
                        </div>
                    </div>
                    <% }) %>
            </div>
            <% } else { %>
                <div class="alert alert-info mb-0">
                    <i class="bi bi-info-circle"></i> Belum ada aktivitas untuk unit ini.
                </div>
                <% } %>
    </div>
</div>