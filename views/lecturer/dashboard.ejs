<div class="container mt-4">
  <h3 class="mb-2">Dashboard Dosen</h3>
  <p>Selamat datang, <strong><%= currentUser ? currentUser.name : 'Dosen' %></strong>. Gunakan panel di bawah untuk memantau kelas dan mengelola Eâ€‘Modul PAI.</p>

  <% if (typeof stats !== 'undefined') { %>
    <!-- Panel statistik ringkas -->
    <div class="row mt-3">
      <div class="col-md-4 mb-3">
        <div class="card text-bg-primary h-100">
          <div class="card-body">
            <h5 class="card-title">Total Pengguna</h5>
            <p class="card-text display-6"><%= stats.totalUsers || 0 %></p>
          </div>
        </div>
      </div>
      <div class="col-md-4 mb-3">
        <div class="card text-bg-success h-100">
          <div class="card-body">
            <h5 class="card-title">Total Modul</h5>
            <p class="card-text display-6"><%= stats.totalModules || 0 %></p>
          </div>
        </div>
      </div>
      <div class="col-md-4 mb-3">
        <div class="card text-bg-info h-100">
          <div class="card-body">
            <h5 class="card-title">Total Unit</h5>
            <p class="card-text display-6"><%= stats.totalUnits || 0 %></p>
          </div>
        </div>
      </div>
    </div>
  <% } %>

  <!-- Menu utama dosen: monitoring, coaching, penilaian -->
  <div class="row mt-4">
    <!-- Dashboard Dosen (halaman aktif) -->
    <div class="col-md-4 mb-3">
      <div class="card border-0 shadow-sm h-100 text-bg-light">
        <div class="card-body d-flex flex-column">
          <h5 class="card-title mb-1">Dashboard Dosen</h5>
          <p class="card-text small mb-3">Ringkasan statistik kelas dan akses cepat ke fitur monitoring dan penilaian.</p>
          <button class="btn btn-sm btn-secondary mt-auto" type="button" disabled>Halaman Aktif</button>
        </div>
      </div>
    </div>

    <!-- Manajemen Modul & Materi -->
    <div class="col-md-4 mb-3">
      <div class="card border-0 shadow-sm h-100">
        <div class="card-body d-flex flex-column">
          <h5 class="card-title mb-1">Manajemen Modul &amp; Materi</h5>
          <p class="card-text small mb-3">Tambah atau edit modul, unit, dan materi pembelajaran PAI agar tetap relevan.</p>
          <a href="/admin/modules" class="btn btn-sm btn-primary mt-auto">Kelola Modul &amp; Unit</a>
        </div>
      </div>
    </div>

    <!-- Manajemen Skenario PBL -->
    <div class="col-md-4 mb-3">
      <div class="card border-0 shadow-sm h-100">
        <div class="card-body d-flex flex-column">
          <h5 class="card-title mb-1">Manajemen Skenario PBL</h5>
          <p class="card-text small mb-3">Rancang skenario masalah, pertanyaan pemantik, dan nilai transformatif untuk tiap unit.</p>
          <a href="/lecturer/pbl-scenarios" class="btn btn-sm btn-outline-primary mt-auto">Lihat Panduan PBL</a>
        </div>
      </div>
    </div>
  </div>

  <div class="row mt-2">
    <!-- Penilaian Refleksi & Tugas -->
    <div class="col-md-6 mb-3">
      <div class="card border-0 shadow-sm h-100">
        <div class="card-body d-flex flex-column">
          <h5 class="card-title mb-1">Penilaian Refleksi &amp; Tugas</h5>
          <p class="card-text small mb-3">Lihat submission tugas mahasiswa dan berikan umpan balik manual untuk coaching individual.</p>
          <a href="/admin/modules" class="btn btn-sm btn-outline-primary mt-auto">Buka Daftar Tugas</a>
        </div>
      </div>
    </div>

    <!-- Laporan & Analisis Kelas -->
    <div class="col-md-6 mb-3">
      <div class="card border-0 shadow-sm h-100">
        <div class="card-body d-flex flex-column">
          <h5 class="card-title mb-1">Laporan &amp; Analisis Kelas</h5>
          <p class="card-text small mb-3">Rencananya menampilkan progres, skor kuis, dan filter mahasiswa berdasarkan nilai tertentu.</p>
          <a href="/admin/reports/overview" class="btn btn-sm btn-outline-primary mt-auto">Lihat Ringkasan</a>
        </div>
      </div>
    </div>
  </div>

  <!-- Area tengah: placeholder grafik dan tabel ringkasan seperti dashboard admin -->
  <div class="row mt-4">
    <div class="col-lg-6 mb-3">
      <div class="card h-100">
        <div class="card-header">Grafik Progres Nilai (Placeholder)</div>
        <div class="card-body d-flex align-items-center justify-content-center text-muted" style="min-height: 220px;">
          <span class="small">Area grafik untuk rata-rata skor kuis per unit akan ditampilkan di sini.</span>
        </div>
      </div>
    </div>
    <div class="col-lg-6 mb-3">
      <div class="card h-100">
        <div class="card-header">Grafik Aktivitas Mahasiswa (Placeholder)</div>
        <div class="card-body d-flex align-items-center justify-content-center text-muted" style="min-height: 220px;">
          <span class="small">Area grafik untuk jumlah aktivitas yang dikerjakan mahasiswa (kuis/tugas) akan ditampilkan di sini.</span>
        </div>
      </div>
    </div>
  </div>

  <div class="card mt-3">
    <div class="card-header">Ringkasan Kelas (Placeholder)</div>
    <div class="card-body p-0">
      <div class="table-responsive">
        <table class="table table-striped table-sm mb-0">
          <thead>
            <tr>
              <th>Unit</th>
              <th>Jumlah Aktivitas</th>
              <th>Mahasiswa Selesai</th>
              <th>Rata-rata Skor Kuis</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Contoh Unit 1</td>
              <td>2</td>
              <td>-</td>
              <td>-</td>
            </tr>
            <tr>
              <td>Contoh Unit 2</td>
              <td>2</td>
              <td>-</td>
              <td>-</td>
            </tr>
            <tr>
              <td>Contoh Unit 3</td>
              <td>2</td>
              <td>-</td>
              <td>-</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Panel selamat datang seperti contoh dashboard klasik -->
  <div class="card mt-4">
    <div class="card-header">Dashboard</div>
    <div class="card-body">
      <h5 class="card-title mb-3">Selamat Datang!</h5>
      <div class="table-responsive">
        <table class="table table-sm mb-0">
          <tbody>
            <tr>
              <th style="width: 160px;">Nama</th>
              <td><%= currentUser && currentUser.name ? currentUser.name : '-' %></td>
            </tr>
            <tr>
              <th>Email</th>
              <td><%= currentUser && currentUser.email ? currentUser.email : '-' %></td>
            </tr>
            <tr>
              <th>Institusi</th>
              <td><%= currentUser && currentUser.institution ? currentUser.institution : '-' %></td>
            </tr>
            <tr>
              <th>Semester</th>
              <td><%= currentUser && currentUser.semester ? currentUser.semester : '-' %></td>
            </tr>
            <tr>
              <th>Peran</th>
              <td>Dosen</td>
            </tr>
            <tr>
              <th>Status</th>
              <td>Login sebagai dosen</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <p class="text-muted small mt-3">Catatan: Dosen dapat mengelola modul, unit, materi, serta memantau aktivitas, namun perubahan data akun pengguna tetap menjadi kewenangan admin.</p>
</div>
